<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML log out</title>
    <link rel="stylesheet" href="style6.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="welcome-container">
        <h1 id="welcomeMessage">Welcome</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
         <img src="gallo qchau.jpg" alt="un gallo con los qchau jaja ponme 100">
        <button id="logoutButton">Log Out</button>
    </div>

    <script>
   (function() {

      // Verifica el estado de la sesion y mantiene en la pagina con location
      var checkSessionStatus = function() {
      var correo = localStorage.getItem("correo");
        if (!correo) {
            window.location.href = "login.html";
        } else {
            document.getElementById("welcomeMessage").textContent = "Welcome " + correo;
        }
        };

      // Maneja el cierre de sesión
      var handleLogout = function() {
            document.getElementById("logoutButton").addEventListener("click", function() {
            localStorage.removeItem("isLoggedIn");
            localStorage.removeItem("correo");
            window.location.href = "login.html";
            });
     };

      // Inicializa el módulo
      var init = function() {
            document.addEventListener("DOMContentLoaded", function() {
            checkSessionStatus();
            handleLogout();
            });
     };

           
    init();
   })();
    </script>
</body>
</html>